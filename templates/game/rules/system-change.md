# System Change Rules (시스템 변경 규칙)

> 게임 시스템 변경 시 따라야 할 절차
> 시스템 간 의존성 관리

---

## 1. 시스템 변경 원칙

- game-systems.md는 **모든 시스템의 진실**
- 변경 시 **영향 분석** 필수
- **밸런스 변경**은 신중하게
- 모든 변경은 **문서에 기록**

---

## 2. 변경 유형 분류

### 2.1 Minor Change (영향 적음)

| 유형 | 예시 | 승인 |
|------|------|------|
| 밸런스 파라미터 조정 | 데미지 10 → 12 | 기록만 |
| 버그 수정 | 공식 오류 수정 | 기록만 |
| 설명 보완 | 문서 명확화 | 기록만 |

### 2.2 Major Change (영향 큼)

| 유형 | 예시 | 승인 |
|------|------|------|
| 새 시스템 추가 | 조합 시스템 | Manager |
| 시스템 로직 변경 | 전투 공식 변경 | Manager |
| 이벤트 추가/삭제 | 새 이벤트 타입 | 영향받는 역할 |
| 시스템 간 연동 변경 | 의존성 변경 | 영향받는 역할 |

---

## 3. 변경 절차

### 3.1 Minor Change

```
변경 필요 발견
    ↓
game-systems.md에 [MINOR] 태그로 수정
    ↓
변경 이력 기록
    ↓
구현 진행
```

### 3.2 Major Change

```
변경 필요 발견
    ↓
영향 분석 수행
    ↓
game-systems.md에 [PROPOSED] 태그로 추가
    ↓
영향받는 역할에 통보
    ↓
Manager 승인 (필요 시)
    ↓
합의 후 확정, 구현 진행
```

---

## 4. 영향 분석

### 4.1 분석 항목

| 항목 | 내용 |
|------|------|
| 영향받는 시스템 | 이 시스템을 참조하는 다른 시스템 |
| 영향받는 에셋 | 변경이 필요한 에셋 |
| 영향받는 UI | 변경이 필요한 화면 |
| 밸런스 영향 | 게임 난이도/재미 영향 |

### 4.2 영향 분석 형식

```markdown
## 영향 분석: [변경 내용]

### 변경 시스템
- [시스템명]: [변경 내용]

### 영향받는 시스템
| 시스템 | 영향 | 필요 조치 |
|--------|------|----------|
| Combat | 데미지 계산 변경 | 공식 수정 |

### 영향받는 에셋
- [에셋명]: [필요 조치]

### 영향받는 UI
- [화면명]: [필요 조치]

### 밸런스 영향
- [영향 설명]

### 총 영향 규모
Minor / Major
```

---

## 5. 이벤트 변경 규칙

### 5.1 이벤트 추가

- game-systems.md에 이벤트 정의
- 이벤트 데이터 구조 명시
- 렌더링/사운드에 통보

### 5.2 이벤트 삭제

- Deprecated 표시 먼저
- 참조하는 시스템 확인
- 최소 1 스프린트 유지 후 삭제

### 5.3 이벤트 변경

- 데이터 구조 변경 시 Major Change
- 모든 구독자에게 통보

---

## 6. 밸런스 변경 가이드

### 6.1 변경 시 고려사항

| 항목 | 질문 |
|------|------|
| 재미 | 게임이 더 재미있어지는가? |
| 난이도 | 너무 쉬워지거나 어려워지는가? |
| 진행 | 진행 속도에 영향이 있는가? |
| 공정성 | 특정 전략이 압도적이 되는가? |

### 6.2 밸런스 테스트

- 변경 전후 시뮬레이션
- 극단적 케이스 테스트
- 수치 변경은 10-20% 단위로

---

## 7. 역할별 책임

| 역할 | 책임 |
|------|------|
| Game Logic | 시스템 변경 제안, 영향 분석 |
| Rendering | 시각적 영향 검토 |
| Sound | 오디오 영향 검토 |
| Manager | Major Change 승인 |

---

## 8. 금지 사항

- ❌ 문서 없이 시스템 변경
- ❌ 영향 분석 없이 Major Change
- ❌ 통보 없이 이벤트 변경
- ❌ 테스트 없이 밸런스 변경

---

## 9. 체크리스트

### 시스템 변경 전

- [ ] 변경 유형 분류 (Minor/Major)
- [ ] 영향 분석 완료
- [ ] game-systems.md에 [PROPOSED] 추가
- [ ] 영향받는 역할 통보
- [ ] (Major) Manager 승인

### 시스템 변경 후

- [ ] game-systems.md 갱신
- [ ] 변경 이력 기록
- [ ] 관련 에셋/UI 갱신 확인
- [ ] 테스트 완료
